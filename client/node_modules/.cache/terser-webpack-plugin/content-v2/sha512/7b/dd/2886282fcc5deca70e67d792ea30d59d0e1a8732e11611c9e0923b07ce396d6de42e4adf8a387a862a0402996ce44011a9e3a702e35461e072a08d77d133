{"map":"{\"version\":3,\"sources\":[\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\React-file-upload\\\\client\\\\src\\\\components\\\\Message.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\React-file-upload\\\\client\\\\src\\\\components\\\\Progress.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\React-file-upload\\\\client\\\\src\\\\components\\\\FileUpload.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\React-file-upload\\\\client\\\\src\\\\App.js\",\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\React-file-upload\\\\client\\\\src\\\\index.js\"],\"names\":[\"Message\",\"_ref\",\"msg\",\"react_default\",\"a\",\"createElement\",\"className\",\"role\",\"type\",\"data-dismiss\",\"aria-label\",\"aria-hidden\",\"Progress\",\"percentage\",\"style\",\"width\",\"concat\",\"FileUpload\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"file\",\"setFile\",\"_useState3\",\"_useState4\",\"filename\",\"setFilename\",\"_useState5\",\"_useState6\",\"uploadedFile\",\"setUploadedFile\",\"_useState7\",\"_useState8\",\"message\",\"setMessage\",\"_useState9\",\"_useState10\",\"uploadPercentage\",\"setUploadPercentage\",\"onSubmit\",\"asyncToGenerator\",\"regenerator_default\",\"mark\",\"_callee\",\"e\",\"formData\",\"res\",\"_res$data\",\"fileName\",\"filePath\",\"wrap\",\"_context\",\"prev\",\"next\",\"preventDefault\",\"FormData\",\"append\",\"axios\",\"post\",\"headers\",\"Content-Type\",\"onUploadProgress\",\"progressEvent\",\"parseInt\",\"Math\",\"round\",\"loaded\",\"total\",\"sent\",\"setTimeout\",\"data\",\"t0\",\"response\",\"status\",\"stop\",\"_x\",\"apply\",\"this\",\"arguments\",\"react\",\"components_Message\",\"id\",\"onChange\",\"target\",\"files\",\"name\",\"htmlFor\",\"components_Progress\",\"value\",\"src\",\"alt\",\"App\",\"components_FileUpload\",\"ReactDOM\",\"render\",\"src_App_0\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\r\\nimport PropTypes from 'prop-types';\\r\\n\\r\\nconst Message = ({ msg }) => {\\r\\n  return (\\r\\n    <div className='alert alert-info alert-dismissible fade show' role='alert'>\\r\\n      {msg}\\r\\n      <button\\r\\n        type='button'\\r\\n        className='close'\\r\\n        data-dismiss='alert'\\r\\n        aria-label='Close'\\r\\n      >\\r\\n        <span aria-hidden='true'>&times;</span>\\r\\n      </button>\\r\\n    </div>\\r\\n  );\\r\\n};\\r\\n\\r\\nMessage.propTypes = {\\r\\n  msg: PropTypes.string.isRequired\\r\\n};\\r\\n\\r\\nexport default Message;\\r\\n\",\"import React from 'react';\\r\\nimport PropTypes from 'prop-types';\\r\\n\\r\\nconst Progress = ({ percentage }) => {\\r\\n  return (\\r\\n    <div className='progress'>\\r\\n      <div\\r\\n        className='progress-bar progress-bar-striped bg-success'\\r\\n        role='progressbar'\\r\\n        style={{ width: `${percentage}%` }}\\r\\n      >\\r\\n        {percentage}%\\r\\n      </div>\\r\\n    </div>\\r\\n  );\\r\\n};\\r\\n\\r\\nProgress.propTypes = {\\r\\n  percentage: PropTypes.number.isRequired\\r\\n};\\r\\n\\r\\nexport default Progress;\\r\\n\",\"import React, { Fragment, useState } from 'react';\\r\\nimport Message from './Message';\\r\\nimport Progress from './Progress';\\r\\nimport axios from 'axios';\\r\\n\\r\\nconst FileUpload = () => {\\r\\n  const [file, setFile] = useState('');\\r\\n  const [filename, setFilename] = useState('Choose File');\\r\\n  const [uploadedFile, setUploadedFile] = useState({});\\r\\n  const [message, setMessage] = useState('');\\r\\n  const [uploadPercentage, setUploadPercentage] = useState(0);\\r\\n\\r\\n  const onChange = e => {\\r\\n    setFile(e.target.files[0]);\\r\\n    setFilename(e.target.files[0].name);\\r\\n  };\\r\\n\\r\\n  const onSubmit = async e => {\\r\\n    e.preventDefault();\\r\\n    const formData = new FormData();\\r\\n    formData.append('file', file);\\r\\n\\r\\n    try {\\r\\n      const res = await axios.post('/upload', formData, {\\r\\n        headers: {\\r\\n          'Content-Type': 'multipart/form-data'\\r\\n        },\\r\\n        onUploadProgress: progressEvent => {\\r\\n          setUploadPercentage(\\r\\n            parseInt(\\r\\n              Math.round((progressEvent.loaded * 100) / progressEvent.total)\\r\\n            )\\r\\n          );\\r\\n        }\\r\\n      });\\r\\n      \\r\\n      // Clear percentage\\r\\n      setTimeout(() => setUploadPercentage(0), 10000);\\r\\n\\r\\n      const { fileName, filePath } = res.data;\\r\\n\\r\\n      setUploadedFile({ fileName, filePath });\\r\\n\\r\\n      setMessage('File Uploaded');\\r\\n    } catch (err) {\\r\\n      if (err.response.status === 500) {\\r\\n        setMessage('There was a problem with the server');\\r\\n      } else {\\r\\n        setMessage(err.response.data.msg);\\r\\n      }\\r\\n      setUploadPercentage(0)\\r\\n    }\\r\\n  };\\r\\n\\r\\n  return (\\r\\n    <Fragment>\\r\\n      {message ? <Message msg={message} /> : null}\\r\\n      <form onSubmit={onSubmit}>\\r\\n        <div className='custom-file mb-4'>\\r\\n          <input\\r\\n            type='file'\\r\\n            className='custom-file-input'\\r\\n            id='customFile'\\r\\n            onChange={onChange}\\r\\n          />\\r\\n          <label className='custom-file-label' htmlFor='customFile'>\\r\\n            {filename}\\r\\n          </label>\\r\\n        </div>\\r\\n\\r\\n        <Progress percentage={uploadPercentage} />\\r\\n\\r\\n        <input\\r\\n          type='submit'\\r\\n          value='Upload'\\r\\n          className='btn btn-primary btn-block mt-4'\\r\\n        />\\r\\n      </form>\\r\\n      {uploadedFile ? (\\r\\n        <div className='row mt-5'>\\r\\n          <div className='col-md-6 m-auto'>\\r\\n            <h3 className='text-center'>{uploadedFile.fileName}</h3>\\r\\n            <img style={{ width: '100%' }} src={uploadedFile.filePath} alt='' />\\r\\n          </div>\\r\\n        </div>\\r\\n      ) : null}\\r\\n    </Fragment>\\r\\n  );\\r\\n};\\r\\n\\r\\nexport default FileUpload;\\r\\n\",\"import React from 'react';\\r\\nimport FileUpload from './components/FileUpload';\\r\\nimport './App.css';\\r\\n\\r\\nconst App = () => (\\r\\n  <div className='container mt-4'>\\r\\n    <h4 className='display-4 text-center mb-4'>\\r\\n      <i className='fab fa-react' /> React File Upload\\r\\n    </h4>\\r\\n\\r\\n    <FileUpload />\\r\\n  </div>\\r\\n);\\r\\n\\r\\nexport default App;\\r\\n\",\"import React from 'react';\\r\\nimport ReactDOM from 'react-dom';\\r\\nimport App from './App';\\r\\n\\r\\nReactDOM.render(<App />, document.getElementById('root'));\\r\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(42)},41:function(e,t,a){},42:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),l=a(11),s=a.n(l),c=a(4),m=a.n(c),o=a(12),i=a(2),u=function(e){var t=e.msg;return r.a.createElement(\"div\",{className:\"alert alert-info alert-dismissible fade show\",role:\"alert\"},t,r.a.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"alert\",\"aria-label\":\"Close\"},r.a.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xd7\")))},p=function(e){var t=e.percentage;return r.a.createElement(\"div\",{className:\"progress\"},r.a.createElement(\"div\",{className:\"progress-bar progress-bar-striped bg-success\",role:\"progressbar\",style:{width:\"\".concat(t,\"%\")}},t,\"%\"))},d=a(13),f=a.n(d),b=function(){var e=Object(n.useState)(\"\"),t=Object(i.a)(e,2),a=t[0],l=t[1],s=Object(n.useState)(\"Choose File\"),c=Object(i.a)(s,2),d=c[0],b=c[1],E=Object(n.useState)({}),h=Object(i.a)(E,2),v=h[0],g=h[1],N=Object(n.useState)(\"\"),w=Object(i.a)(N,2),j=w[0],O=w[1],y=Object(n.useState)(0),F=Object(i.a)(y,2),x=F[0],S=F[1],k=function(){var e=Object(o.a)(m.a.mark(function e(t){var n,r,l,s,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append(\"file\",a),e.prev=3,e.next=6,f.a.post(\"/upload\",n,{headers:{\"Content-Type\":\"multipart/form-data\"},onUploadProgress:function(e){S(parseInt(Math.round(100*e.loaded/e.total)))}});case 6:r=e.sent,setTimeout(function(){return S(0)},1e4),l=r.data,s=l.fileName,c=l.filePath,g({fileName:s,filePath:c}),O(\"File Uploaded\"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),500===e.t0.response.status?O(\"There was a problem with the server\"):O(e.t0.response.data.msg),S(0);case 17:case\"end\":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,j?r.a.createElement(u,{msg:j}):null,r.a.createElement(\"form\",{onSubmit:k},r.a.createElement(\"div\",{className:\"custom-file mb-4\"},r.a.createElement(\"input\",{type:\"file\",className:\"custom-file-input\",id:\"customFile\",onChange:function(e){l(e.target.files[0]),b(e.target.files[0].name)}}),r.a.createElement(\"label\",{className:\"custom-file-label\",htmlFor:\"customFile\"},d)),r.a.createElement(p,{percentage:x}),r.a.createElement(\"input\",{type:\"submit\",value:\"Upload\",className:\"btn btn-primary btn-block mt-4\"})),v?r.a.createElement(\"div\",{className:\"row mt-5\"},r.a.createElement(\"div\",{className:\"col-md-6 m-auto\"},r.a.createElement(\"h3\",{className:\"text-center\"},v.fileName),r.a.createElement(\"img\",{style:{width:\"100%\"},src:v.filePath,alt:\"\"}))):null)},E=(a(41),function(){return r.a.createElement(\"div\",{className:\"container mt-4\"},r.a.createElement(\"h4\",{className:\"display-4 text-center mb-4\"},r.a.createElement(\"i\",{className:\"fab fa-react\"}),\" React File Upload\"),r.a.createElement(b,null))});s.a.render(r.a.createElement(E,null),document.getElementById(\"root\"))}},[[14,1,2]]]);","extractedComments":[]}